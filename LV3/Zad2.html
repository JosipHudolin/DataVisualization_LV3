<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Zad2</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
</head>
<body>
    <script>

        function addSquare() {
            var svg = d3.select("body")
                .append("svg")
                .attr("width", "1024")
                .attr("height", "768");

            var squares = svg.selectAll("rect")
                .data(d3.range(10))
                .enter()
                .append("rect")
                .attr("x", function () { return Math.random() * 800; })
                .attr("y", function () { return Math.random() * 600; })
                .attr("width", 100)
                .attr("height", 100)
                .attr("fill", "none")
                .attr("stroke", "red");

            squares.each(function () {
                var square = d3.select(this);
                var durationFill = Math.random() * 3000 + 1000;
                var durationSize = Math.random() * 3000 + 1000;

                square.transition()
                    .delay(3000)
                    .duration(durationFill)
                    .attr("fill", "yellow")
                    .transition()
                    .duration(durationSize)
                    .attr("width", 200)
                    .style("opacity", 0)
                    .remove();
            });
        }

        addSquare();

        d3.timeout(function () {
            d3.selectAll("svg").remove();
            addSquare();
        }, 8000);
    </script>
</body>
</html>
